<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=utf-8">
<meta name="Author" content="Stefan Jahn">
<title>Qucs - Dateiformat der Schaltpl&auml;ne</title>
</head>



<body>
<a name="top" id="top"></a>

<center><h3>
- Qucs -<br>
Ziemlich Universeller Schaltungssimulator<br>
</h3>
<h1>
Dateiformat der Schaltpl&auml;ne<br><br>
</h1></center>

Dieses Dokument beschreibt kurz das Dateiformat der Schaltpl&auml;ne von
Qucs.  Das Format wird f&uuml;r Schaltpl&auml;ne (normalerweise mit der
Dateiendung ".sch") und f&uuml;r Datenvisualisierungen (normalerweise mit
der Dateiendung ".dpl") verwendet.  Der folgende Text zeigt ein kurzes
Beispiel f&uuml;r eine solche Datei.
<br><br>

<tt><small>
&#060;Qucs Schematic 0.0.6&#062; <br>
&#060;Properties&#062; <br>
  &nbsp;&nbsp;&#060;View=0,0,800,800,1,0,0&#062; <br>
&#060;/Properties&#062; <br>
&#060;Symbol&#062; <br>
  &nbsp;&nbsp;&#060;.ID -20 14 SUB&#062; <br>
&#060;/Symbol&#062; <br>
&#060;Components&#062; <br>
  &nbsp;&nbsp;&#060;R R1 1 180 150 15 -26 0 1 "50 Ohm" 1 "26.85" 0 "european" 0&#062; <br>
  &nbsp;&nbsp;&#060;GND * 1 180 180 0 0 0 0&#062; <br>
&#060;/Components&#062; <br>
&#060;Wires&#062; <br>
  &nbsp;&nbsp;&#060;180 100 180 120 "" 0 0 0 ""&#062; <br>
  &nbsp;&nbsp;&#060;120 100 180 100 "Input" 170 70 21 ""&#062; <br>
&#060;/Wires&#062; <br>
&#060;Diagrams&#062; <br>
  &nbsp;&nbsp;&#060;Polar 300 250 200 200 1 #c0c0c0 1 00 1 0 1 1 1 0 5 15 1 0 1 1 315 0 225 "" "" ""&#062; <br>
    &nbsp;&nbsp;&nbsp;&nbsp;&#060;"acnoise2:S[2,1]" #0000ff 0 3 0 0 0&#062; <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#060;Mkr 6e+09 118 -195 3 0 0&#062; <br>
  &nbsp;&nbsp;&#060;/Polar&#062; <br>
&#060;/Diagrams&#062; <br>
&#060;Paintings&#062; <br>
  &nbsp;&nbsp;&#060;Arrow 210 320 50 -100 20 8 #000000 0 1&#062; <br>
&#060;/Paintings&#062; <br>
</small></tt>
<br><br>

Die Datei beinhaltet mehrere Abschnitte.  Jeder dieser Abschnitte wird
nachfolgend erkl&auml;rt.  Jede Zeile besteht aus einem einzigen
Informationsblock, der mit dem Kleiner-Zeichen "&#060;" beginnt und
mit dem Gr&ouml;&szlig;er-Zeichen "&#062;" endet.

<br>
<h3>Eigenschaften</h3>
Der erste Abschnitt beginnt mit "&#060;Properties&#062;" und endet mit
"&#060;/Properties&#062;".  Er beinhaltet die Dokumenteneigenschaften
der Datei.  Jede dieser Zeilen ist optional.  Die folgenden
Eigenschaften werden unterst&uuml;tzt.
<br>
<ul>
<li><em>&#060;View=x1,y1,x2,y2,scale,xpos,ypos&#062;</em> beinhaltet
die Pixelposition des Schaltplanfensters in den ersten vier Zahlen,
die aktuelle Skalierung und die aktuelle Position der linken oberen
Ecke (die letzten beiden Zahlen).
</li>
<li><em>&#060;Grid=x,y,on&#062;</em> beinhaltet den Gitternetzabstand in
Pixeln (die ersten beiden Zahlen) und ob das Gitternetz sichtbar ist
(letzte Zahl 1) oder nicht (letzte Zahl 0).
</li>
<li><em>&#060;DataSet=name.dat&#062;</em> beinhaltet den Dateinamen
des Datensatzes, der mit diesem Schaltplan assoziiert wird.
</li>
<li><em>&#060;DataDisplay=name.dpl&#062;</em> beinhaltet den Dateinamen
der Datenvisualisierung, die mit diesem Schaltplan assoziiert wird (bzw.
den Dateinamen des Schaltplan, falls das Dokument eine Dateinvisualisierung
ist).
</li>
<li><em>&#060;OpenDisplay=yes&#062;</em> beinhaltet eine 1, falls die
Datenvisualisierung automatisch nach der Simulation angezeigt werden
soll, anderenfalls eine 0.
</li>
</ul>

<br>
<h3>Symbol</h3>
Dieser Abschnitt beginnt mit "&#060;Symbol&#062;" und endet mit
"&#060;/Symbol&#062;".  Er beinhaltet die Zeichnungselemente, die das
Schaltplansymbol dieser Datei bilden.  Das wird normalerweise nur bei
Schaltpl&auml;nen verwendet, die eine Unterschaltung darstellen.

<br>
<h3>Komponenten</h3>
Dieser Abschnitt beginnt mit "&#060;Components&#062;" und endet mit
"&#060;/Components&#062;".  Er beinhaltet die Schaltkreiskomponenten des
Schaltplans.  Das Zeilenformat ist wie folgt aufgebaut:
<br>
<em>&#060;type name active x y xtext ytext mirrorX rotate "Value1" visible "Value2" visible ...&#062;</em>
<br>
<ul>
<li>Der <em>type</em> identifiziert die Komponente, z.B. steht "R" f&uuml;r
einen Widerstand und "C" f&uuml;r einen Kondensator.
</li>
<li>Der <em>name</em> ist der Komponentenidentifizierer in dem Schaltplan,
z.B. steht "R1" f&uuml;r den ersten Widerstand.
</li>
<li>Eine "1" in dem <em>active</em> Feld zeigt an, dass die Komponenten
aktiv ist, d.h. dass sie w&auml;hrend der Simulation verwendet wird. Eine
"0" zeigt an, dass die Komponente nicht aktiv ist.
</li>
<li>Die n&auml;chsten beiden Zahlen sind die x- und y-Koordinaten des
Komponentenzentrums.
</li>
<li>Die folgenden beiden Zahlen sind die x- und y-Koordinaten der linken
oberen Ecke des Komponententextes.  Sie sind relativ zum Komponentenzentrum.
</li>
<li>Die n&auml;chsten beiden Zahlen zeigen an, ob die Komponente an der x-Achse
gespiegelt ist ("1" f&uuml;r gespiegelt, "0" f&uuml;r nicht gespiegelt) ist und ob
die Komponente entgegen des Uhrzeigersinns gedreht ist (Vielfache von
90 Grad, d.h. 0...3).
</li>
<li>Die n&auml;chsten beiden Eintr&auml;ge sind die Werte der
Komponenteneigenschaften (in Anf&uuml;hrungszeichen) gefolgt von einer 1, falls
die Eigenschaft in dem Schaltplan angezeigt wird (ansonsten eine 0).
</li>
</ul>

<br>
<h3>Verbindungen</h3>
Der Abschnitt beginnt mit "&#060;Wires&#062;" und endet mit
"&#060;/Wires&#062;".  Er beinhaltet die Dr&auml;hte (elektrische Verbindungen
zwischen den Schlatkreiskomponenten) und ihre Bezeichnungen bzw.
zus&auml;tzlichen Eigenschaften.  Das Zeilenformat sieht wie folgt aus:
<br>
<em>&#060;x1 y1 x2 y2 "label" xlabel ylabel dlabel "node set"&#062;</em>
<br>
<ul>
<li>Die ersten vier Zahlen sind die Koordinaten des Drahtes in Pixel:
x-Koordinate des Startpunktes, y-Koordinate des Startpunktes,
x-Koordinate des Endpunktes und y-Koordinate des Endpunktes.  Alle Dr&auml;hte
m&uuml;ssen entweder horizontal (beide x-Koordinaten gleich) oder vertikal
(beide y-Koordinaten gleich) sein.
</li>
<li>Die erste Zeichenkette in Anf&uuml;hrungszeichen ist der Name des
Bezeichners.  Er ist leer, wenn der Benutzer keine Drahtbezeichnung
eingegeben hat.
</li>
<li>Die n&auml;chsten beiden Zahlen sind die x- und y-Koordinaten der Bezeichnung
oder Null, falls es keine Bezeichnung gibt.
</li>
<li>Die folgenden beiden Zahlen sind der Abstand zwischen dem Startpunkt des
Drahtes und dem Punkt, an dem der Bezeichner des Drahtes angezeigt werden
soll.
</li>
<li>Die letzte Zeichenkette in Anf&uuml;hrungszeichen ist der Anfangswert f&uuml;r
die Knotenspannung an diesem Draht.  Sie ist leer, falls der Benutzer
keine Knotenspannung f&uuml;r diesen Draht angegeben hat..
</li>
</ul>

<br>
<h3>Diagramme</h3>
Der Abschnitt beginnt mit "&#060;Diagrams&#062;" und endet mit
"&#060;/Diagrams&#062;".  Er beinhaltet die Diagramme mit ihren Kurven und
Markierungen.
<br>
<em>&#060;x y width height grid gridcolor gridstyle log xAutoscale xmin xstep xmax
          yAutoscale ymin ystep ymax zAutoscale zmin zstep zmax xrotate yrotate zrotate
	  "xlabel" "ylabel" "zlabel"&#062;</em>
<br>
<ul>
<li>Die ersten beiden Zahlen sind die x-und y-Koordinaten der linken
unteren Ecke.</li>
<li>Die n&auml;chsten beiden Zahlen sind die Breite und H&ouml;he der
Diagrammgrenzen.</li>
<li>Die f&uuml;nfte Zahl ist 1 falls das Gitternetz angezeigt werden soll und 0
falls nicht.</li>
<li>Das n&auml;chste ist die Farbe des Gitternetzes als hexadezimaler 24-Bit
RGB-Wert, z.B. ist #FF0000 rot.</li>
<li>Die n&auml;chste Zahl legt den Stil des Gitternetzes fest.</li>
<li>Die n&auml;chste Zahl legt fest, welche Achsen eine logarithmische Einteilung
haben.</li>
</ul>

<br>
<h3>Zeichnungen</h3>
Der Abschnitt beginnt mit "&#060;Paintings&#062;" und endet mit
"&#060;/Paintings&#062;".  Er beinhaltet die Zeichnungselemente, die sich
in dem Schaltplan befinden.

<br><br><a href="#top">zur&uuml;ck nach oben</a><br>
</body>
</html>
