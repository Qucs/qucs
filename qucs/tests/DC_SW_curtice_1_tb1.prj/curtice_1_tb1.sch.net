# Qucs

.Def:curtice_1 _net2 _net9 _net6 RG="1m" RD="1m" RS="1m" VBR="10e10" LG="1e-15" LD="1e-15" LS="1e-15" IS="10f" N="1" XTI="0" EG="1.11" Beta="3m" Lambda="40m" VT0="-6" Temp="27" Alpha="0.8" CDS="300f" TAU="10p" RIN="1m" CGS="300f" CGD="300f" Tnom="27"
R:Rs _net0 _net1 R="RS" Temp="26.85" Tc1="0.0" Tc2="0.0" Tnom="26.85"
L:Ls _net2 _net0 L="LS" I=""
R:Rin _net3 _net1 R="RIN" Temp="26.85" Tc1="0.0" Tc2="0.0" Tnom="26.85"
EDD:D2 _net4 _net5 I1="D2.I1" Q1="D2.Q1"
  Eqn:EqnD2I1 D2.I1="0" Export="no"
  Eqn:EqnD2Q1 D2.Q1="CGD*V1" Export="no"
R:Rd _net7 _net5 R="RD" Temp="26.85" Tc1="0.0" Tc2="0.0" Tnom="26.85"
L:Ld _net6 _net7 L="LD" I=""
R:Rg _net4 _net8 R="RG" Temp="26.85" Tc1="0.0" Tc2="0.0" Tnom="26.85"
L:Lg _net8 _net9 L="LG" I=""
Eqn:Eqn1 Vt="kB/q*TK" GMIN="1e-12" TK="Temp+273.15" TnK="Tnom+273.15" Export="yes"
Eqn:Eqn2 TR="TK/TnK" IsT="IS*exp(XTI/N*ln(TR) - EG/N/Vt*(1-TR))" Export="yes"
EDD:D1 _net4 _net1 _net4 _net1 _net5 _net1 _net4 _net3 I1="D1.I1" Q1="D1.Q1" I2="D1.I2" Q2="D1.Q2" I3="D1.I3" Q3="D1.Q3" I4="D1.I4" Q4="D1.Q4"
  Eqn:EqnD1I1 D1.I1="V1<-VBR+50*Vt ? -IsT*(1+exp(-(VBR+V1)/Vt)) + GMIN*V1 : 0" Export="no"
  Eqn:EqnD1Q1 D1.Q1="0" Export="no"
  Eqn:EqnD1I2 D1.I2="V1>=-VBR+50*Vt && V1<-5*Vt ? -IsT+GMIN*V1 : V1>=-5*Vt ? IsT*(exp(V1/(N*Vt))-1) + GMIN*V1 : 0" Export="no"
  Eqn:EqnD1Q2 D1.Q2="0" Export="no"
  Eqn:EqnD1I3 D1.I3="V1-VT0>0 ? Beta*(V1-VT0)^2*(1+Lambda*V3)*tanh(Alpha*V3) : 0" Export="no"
  Eqn:EqnD1Q3 D1.Q3="CDS*V3 + TAU*I3" Export="no"
  Eqn:EqnD1I4 D1.I4="0" Export="no"
  Eqn:EqnD1Q4 D1.Q4="CGS*V4" Export="no"
.Def:End

Vdc:V2 _net0 gnd U="Vgs"
.DC:DC1 Temp="26.85" reltol="0.001" abstol="1 pA" vntol="1 uV" saveOPs="no" MaxIter="150" saveAll="no" convHelper="none" Solver="CroutLU"
Eqn:Eqn1 Id="-V1.I" Export="yes"
.SW:SW1 Sim="DC1" Type="lin" Param="Vds" Start="-10" Stop="10" Points="41"
.SW:SW2 Sim="SW1" Type="lin" Param="Vgs" Start="-5" Stop="0" Points="6"
Vdc:V1 _net1 gnd U="Vds"
IProbe:Pr1 _net1 _net2
Sub:Curtice1 gnd _net0 _net2 Type="curtice_1" RG="1m" RD="1m" RS="1m" VBR="10e10" LG="1e-15" LD="1e-15" LS="1e-15" IS="10f" N="1" XTI="0" EG="1.11" Beta="3m" Lambda="40m" VT0="-6" Temp="27" Alpha="0.8" CDS="300f" TAU="10p" RIN="1m" CGS="300f" CGD="300f" Tnom="27"
